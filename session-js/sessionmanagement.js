var intervalID,lastActivity,pollInterval=6e4,expirationMinutes=8,warningMinutes=5;initSession=(()=>{lastActivity=new Date,sessSetInterval(),$(document).bind("keypress.session",function(e,s){sessKeyPressed(e,s)})}),sessSetInterval=(()=>{intervalID=setInterval("sessInterval()",pollInterval)}),sessClearInterval=(()=>{clearInterval(intervalID)}),sessKeyPressed=((e,s)=>{lastActivity=new Date}),sessLogOut=(()=>{$.get("/account/clearSession",()=>sweetModal())}),sessionOutReturnHome=(()=>{$.get("/account/clearSession",()=>returnHome())}),returnHome=(()=>{window.location.href="/"}),sessInterval=(()=>{(new Date-lastActivity)/1e3/60>=warningMinutes&&(sessClearInterval(),sessLogOut())}),sweetModal=(()=>{swal({icon:"../../../images/i-VerifiLogo5.png",title:"Login",content:{element:"input",attributes:{placeholder:"Please enter correct username"}},buttons:{confirm:{text:"Submit",value:!0,visible:!0,className:"",closeModal:!1},cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0}},closeOnClickOutside:!1,closeOnEsc:!1}).then(e=>{e?swal({icon:"../../../images/i-VerifiLogo5.png",title:"Login",content:{element:"input",attributes:{placeholder:"Please enter correct password",type:"password"}},buttons:{confirm:{text:"Submit",value:!0,visible:!0,className:"",closeModal:!1},cancel:{text:"Cancel",value:null,visible:!0,className:"",closeModal:!0}},closeOnClickOutside:!1,closeOnEsc:!1}).then(s=>{s?$.post("/account/refreshsession",{user:e,pwd:s},e=>{"invalid"==e?window.location.href="/":(reSetSessionLogOut(),swal("Successful!"))}):window.location.href="/"}):window.location.href="/"}).catch(e=>{swal("Error: "+e),window.location.href="/"})}),reSetSessionLogOut=(()=>{initSession(),sessSetInterval(),lastActivity=new Date});